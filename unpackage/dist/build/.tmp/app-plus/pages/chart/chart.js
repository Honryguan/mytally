(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/chart/chart"],{"55a1":function(e,t,n){"use strict";(function(e){n("eb38"),n("921b");o(n("66fd"));var t=o(n("c09e"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"6eb5":function(e,t,n){"use strict";n.r(t);var o=n("8593"),a=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);t["default"]=a.a},8593:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("897e"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,l=function(){return Promise.all([n.e("common/vendor"),n.e("components/w-picker/w-picker")]).then(n.bind(null,"e37f"))},s=null,f={data:function(){return{cWidth:"",cHeight:"",pixelRatio:1,serverData:"",scrollTop:0,old:{scrollTop:0}}},components:{wPicker:l},onLoad:function(){u=this,this.cWidth=e.upx2px(750),this.cHeight=e.upx2px(500)},onShow:function(){this.getServerData()},methods:{scroll:function(e){console.log(o(e," at pages\\chart\\chart.vue:106")),this.old.scrollTop=e.detail.scrollTop},toggleTab:function(e){this.$refs[e].show()},onConfirm:function(e){console.log(o(e," at pages\\chart\\chart.vue:113")),this.resultInfo=r({},e)},getServerData:function(){var e=this;e.startTodayTime=e.getTodayTime(5),e.endTodayTime=e.getTodayTime(6),plus.sqlite.selectSql({name:"tally",sql:'SELECT sum(a.money) as sum,t.name AS typeName FROM tally a LEFT JOIN types t ON a.typeId = t.id WHERE a.time >= "'+e.startTodayTime+'" AND a.time < "'+e.endTodayTime+'" group by t.name;',success:function(e){var t={series:[]};for(var n in e){var o={name:e[n].typeName,data:e[n].sum};t.series.push(o)}u.showRing("canvasRing",t)},fail:function(e){u.tips="网络错误，小程序端请检查合法域名"}})},getTodayTime:function(e){var t=new Date,n=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),i=t.getHours()<10?"0"+t.getHours():t.getHours(),r=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),c=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();o>=1&&o<=9&&(o="0"+o),a>=0&&a<=9&&(a="0"+a);var u="";return 1==e?u=n+"-"+o+"-"+a+" "+i+":"+r+":"+c:2==e?u=n+"-"+o+"-"+a:3==e?u=n+"-"+o+"-"+a+" 00:00:00":4==e?u=n+"-"+o+"-"+a+" 23:59:59":5==e?u=n+"-"+o+"-00 23:59:59":6==e&&(u=n+"-"+o+"-31 23:59:59"),u},showRing:function(e,t){s=new a.default({$this:u,canvasId:e,type:"ring",fontSize:11,legend:!0,title:{name:"70%",color:"#7cb5ec",fontSize:20*u.pixelRatio,offsetY:-5*u.pixelRatio},subtitle:{name:"收益率",color:"#666666",fontSize:15*u.pixelRatio,offsetY:1*u.pixelRatio},extra:{pie:{offsetAngle:-45,ringWidth:40*u.pixelRatio,labelWidth:15}},background:"#FFFFFF",pixelRatio:u.pixelRatio,series:t.series,animation:!0,width:u.cWidth*u.pixelRatio,height:u.cHeight*u.pixelRatio,disablePieStroke:!0,dataLabel:!0})},touchRing:function(e){s.showToolTip(e,{format:function(e){return e.name+":"+e.data}})}}};t.default=f}).call(this,n("6e42")["default"],n("0de9")["default"])},a231:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a})},a93d:function(e,t,n){"use strict";var o=n("ecdf"),a=n.n(o);a.a},c09e:function(e,t,n){"use strict";n.r(t);var o=n("a231"),a=n("6eb5");for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);n("a93d");var r=n("2877"),c=Object(r["a"])(a["default"],o["a"],o["b"],!1,null,null,null);t["default"]=c.exports},ecdf:function(e,t,n){}},[["55a1","common/runtime","common/vendor"]]]);